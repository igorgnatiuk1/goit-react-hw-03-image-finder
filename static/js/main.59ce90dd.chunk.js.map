{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Error/Error.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Error/Error.js","Api/Api.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","style","container","prototype","PropTypes","node","isRequired","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImage","onClickImage","onClick","src","alt","ImageGalleryItem__image","ImageGallery","images","map","largeImageURL","id","Button","button","Loader","loader","color","height","width","modalRef","document","querySelector","Modal","handleKeyDown","onClose","code","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","modal","Error","text","error","KEY","axios","defaults","baseURL","fetchImg","currentPage","searchQuery","fetchString","get","then","response","data","catch","console","App","totalHits","isLoading","message","handleChangeQuery","showModal","handleClickButton","fetchApi","handleClickImage","imageItem","closeModal","prevState","prevProps","snapshot","scrollTo","top","documentElement","scrollHeight","behavior","length","options","hits","finally","showButton","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.59ce90dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__yFzZK\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__F096K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1FyPv\",\"Modal\":\"Modal_Modal__39UBp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2kBQ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery___Tpdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3TEtq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3wmvO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__4gEUZ\"};","import PropTypes from 'prop-types';\r\nimport style from './Container.module.css';\r\n\r\nconst Container = ({ children}) => (\r\n    <div className={style.container}>{children}</div>\r\n);\r\n\r\nContainer.prototype = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    handleChange = event => {\r\n        this.setState({ query: event.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        const { query } = this.state;\r\n        if (!query) return;\r\n\r\n        this.props.onSubmit(query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={style.Searchbar}>\r\n                <form className={style.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={style.SearchForm__button}>\r\n                        <span className={style.SearchForm__button__label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={style.SearchForm__input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.query}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImage, onClickImage }) => (\r\n    <li\r\n        className={style.ImageGalleryItem}\r\n        onClick={() => onClickImage(largeImage)}\r\n    >\r\n        <img src={webformatURL} alt=\"\" className={style.ImageGalleryItem__image} />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImage: PropTypes.string.isRequired,\r\n    onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport style from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => (\r\n    <ul className={style.ImageGallery}>\r\n        {images.map(({ webformatURL, largeImageURL, id }) => (\r\n            <ImageGalleryItem\r\n                key={id}\r\n                webformatURL={webformatURL}\r\n                onClickImage={onClickImage}\r\n                largeImage={largeImageURL}\r\n            />\r\n        ))}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })).isRequired,\r\n    onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","\r\nimport propTypes from 'prop-types';\r\nimport style from './Button.module.css';\r\n\r\nconst Button = ({ onClick}) => (\r\n    <button type=\"button\" className={style.button} onClick={onClick}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: propTypes.func.isRequired,\r\n};\r\nexport default Button;","import LoaderMarcup from 'react-loader-spinner';\r\nimport style from './Loader.module.css'\r\n\r\nconst Loader =() => (\r\n    <div className={style.loader}>\r\n        <LoaderMarcup type=\"Puff\" color=\"#303f9f\" height={80} width={80} />\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRef = document.querySelector('#modal');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        const { onClose } = this.props;\r\n        if (event.code === 'Escape') {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    handleOverlayClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { largeImage } = this.props;\r\n        return createPortal(\r\n            <div className={style.Overlay} onClick={this.handleOverlayClick}>\r\n                <div className={style.modal}>\r\n                    <img src={largeImage} alt=\"\" />\r\n                </div>\r\n            </div>,\r\n            modalRef,\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    largeImage: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;","\r\nimport PropTypes from 'prop-types';\r\nimport style from './Error.module.css';\r\n\r\nconst Error = ({ text }) => <h2 className={style.error}>{text}</h2>;\r\n\r\nError.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;","import axios from \"axios\";\r\n\r\nconst PAGE = 12;\r\nconst KEY = '21950649-7cbe36f37fba3febe32b90827';\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api/?key=${KEY}&per_page=12`;\r\n\r\nconst fetchImg = ({ currentPage, searchQuery}) => {\r\n    const fetchString = `https://pixabay.com/api/?key=${KEY}&per_page=${PAGE}&q=${searchQuery}&page=${currentPage}`;\r\n    return axios\r\n        .get(fetchString)\r\n        .then(response => response.data)\r\n        .catch(console.error);\r\n};\r\n\r\nexport default fetchImg;\r\n\r\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\nimport Error from './components/Error';\n\nimport fetchImg from './Api/Api';\n\nconst PAGESIZE = 12;\n\nclass App extends Component {\n    state = {\n        images: [],\n        totalHits: 0,\n        searchQuery: '',\n        currentPage: 1,\n        error: null,\n        isLoading: false,\n        largeImage: '',\n        message: '',\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n            this.fetchApi();\n        }\n        if (snapshot) {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        }\n    }\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (prevState.images.length < this.state.images.length) return true;\n        return false;\n    }\n\n    handleChangeQuery = query => {\n        this.setState({\n            searchQuery: query,\n            images: [],\n            totalHits: 0,\n            currentPage: 1,\n            error: null,\n            isLoading: false,\n            showModal: false,\n        });\n    };\n\n    handleClickButton = () => {\n        this.fetchApi();\n    };\n\n    handleClickImage = imageItem => {\n        this.setState({\n            showModal: true,\n            largeImage: imageItem,\n        });\n    };\n\n    closeModal = () => {\n        this.setState(prevState => ({\n            largeImage: '',\n            showModal: !prevState.showModal,\n        }));\n    };\n\n    fetchApi() {\n        const { currentPage, searchQuery } = this.state;\n        const options = { currentPage, searchQuery };\n        this.setState({ isLoading: true });\n\n        fetchImg(options)\n            .then(({ hits, totalHits }) => {\n                this.setState({ totalHits: totalHits });\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...hits],\n                    currentPage: prevState.currentPage + 1,\n                }));\n            })\n            .catch(error => this.setState({ error }))\n            .finally(() => this.setState({ isLoading: false }));\n    }\n\n    render() {\n        const {\n            images,\n            isLoading,\n            totalHits,\n            error,\n            showModal,\n            largeImage,\n            searchQuery,\n        } = this.state;\n        const showButton = totalHits > PAGESIZE;\n\n        return (\n            <Container>\n                <Searchbar onSubmit={this.handleChangeQuery} />\n                {(error && (\n                    <Error\n                        text={'Что-то пошло не так, попробуйте еще раз сделать запрос...'}\n                    />\n                )) ||\n                (totalHits === 0 && searchQuery && !isLoading && (\n                    <Error\n                        text={'По вашему запросу ничего не найдено, повторите попытку.'}\n                    />\n                ))}\n\n                <ImageGallery\n                    images={images}\n                    onClickImage={this.handleClickImage}\n                ></ImageGallery>\n                {isLoading && <Loader />}\n                {showButton && <Button onClick={this.handleClickButton} />}\n                {showModal && (\n                    <Modal onClose={this.closeModal} largeImage={largeImage} />\n                )}\n            </Container>\n        );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tG5IT\",\"SearchForm__button\":\"Searchbar_SearchForm__button__362TD\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3AuXo\",\"SearchForm\":\"Searchbar_SearchForm__1AMjM\",\"SearchForm__input\":\"Searchbar_SearchForm__input__Grc27\"};"],"sourceRoot":""}